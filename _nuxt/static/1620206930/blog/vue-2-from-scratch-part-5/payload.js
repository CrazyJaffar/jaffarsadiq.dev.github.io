__NUXT_JSONP__("/blog/vue-2-from-scratch-part-5", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL){return {data:[{article:{publishedAt:"2020-05-23T00:00:00.000Z",title:"Build An App With Your Own Mini-Vue",excerpt:"In the last few posts, we learned how the virtual DOM and reactivity works in Vue.js. In this post, we're bringing it all together.",routeSlug:"vue-2-from-scratch-part-5",tags:"vue, javascript",series:"vue-2-from-scratch",cover:{url:"https:\u002F\u002Fimages.ctfassets.net\u002Fr1crnaxclhxs\u002FMXpEN3rWVV3rphGyTfyK4\u002Fd228c6f4d7ae95376984e790eea6622f\u002Fjoshua-earle-9idqIGrLuTE-unsplash.jpg?w=2400",author:V,authorUrl:V},toc:[],body:{type:"root",children:[{type:b,tag:i,props:{},children:[{type:a,value:"This post is the fifth part of a series called "},{type:b,tag:aj,props:{},children:[{type:a,value:"Create Your Own Vue.js From Scratch"}]},{type:a,value:", where I teach you how to create the fundamentals of a reactive framework such as Vue.js. To follow this blog post, I suggest you first read the other parts of the series."}]},{type:a,value:f},{type:b,tag:v,props:{id:"recap"},children:[{type:b,tag:q,props:{href:"#recap",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Recap"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the last posts, we "},{type:b,tag:q,props:{href:"https:\u002F\u002Fmarc.dev\u002Fblog\u002Fvue-2-from-scratch-part-3",rel:[O,P,Q],target:R},children:[{type:a,value:"created our own virtual DOM"}]},{type:a,value:" and "},{type:b,tag:q,props:{href:"https:\u002F\u002Fmarc.dev\u002Fblog\u002Fvue-2-from-scratch-part-4",rel:[O,P,Q],target:R},children:[{type:a,value:"replicated a rudimentary Vue 2 reactivity"}]},{type:a,value:M}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For the virtual DOM, we created an engine that allows us to create virtual nodes, mount\u002Funmount them to\u002Ffrom the actual DOM. The code can be found on "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgist.github.com\u002Fthemarcba\u002F2a471e1f0592201fc5036cb40bdbee1f",rel:[O,P,Q],target:R},children:[{type:a,value:$}]},{type:a,value:M}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For the reactivity, we built a dependency class, which we then use to detect changes in object property changes, we bound using "},{type:b,tag:h,props:{},children:[{type:a,value:"Object.definePropert()"}]},{type:a,value:". The code can be found on "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgist.github.com\u002Fthemarcba\u002F618264a12f277f10570c30759c592546",rel:[O,P,Q],target:R},children:[{type:a,value:$}]},{type:a,value:M}]},{type:a,value:f},{type:b,tag:v,props:{id:"preparation"},children:[{type:b,tag:q,props:{href:"#preparation",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Preparation"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"First, we create a new HTML-file add a "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" with the ID "},{type:b,tag:h,props:{},children:[{type:a,value:ak}]},{type:a,value:", and "},{type:b,tag:h,props:{},children:[{type:a,value:al}]},{type:a,value:" tag."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Second, we copy the following functions from the VDOM example into the "},{type:b,tag:h,props:{},children:[{type:a,value:"\u003Cscript\u003E\u003C\u002Fscript\u003E"}]},{type:a,value:am}]},{type:a,value:f},{type:b,tag:an,props:{},children:[{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:S}]}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:ao}]}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"unmount"}]}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:ap}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Third, we copy the following elements from the reactivity example into the "},{type:b,tag:h,props:{},children:[{type:a,value:al}]},{type:a,value:am}]},{type:a,value:f},{type:b,tag:an,props:{},children:[{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Dep"}]},{type:a,value:"-class"}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:aa}]},{type:a,value:aq}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:ar}]},{type:a,value:aq}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"activeEffect"}]},{type:a,value:" variable declaration"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{id:"writing-our-template"},children:[{type:b,tag:q,props:{href:"#writing-our-template",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Writing our template"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's assume we want to create a very simple click-counter like this one:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:"img",props:{alt:"mini-vue-click-counter",src:"\u002F\u002Fimages.ctfassets.net\u002Fr1crnaxclhxs\u002F79NewCkTOeI76hEPSRuCS4\u002F5afd9804552ed093944f6af7b300a18f\u002Fmini-vue-click-counter.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We would need a structure like this:"}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,"language-html"]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:T}]},{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,at]},children:[{type:b,tag:c,props:{className:[d,e,au]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:W}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:W}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:T}]},{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,at]},children:[{type:b,tag:c,props:{className:[d,e,au]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:W}]},{type:a,value:"container"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:W}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:T}]},{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:"NUMBER_OF_CLICKS"},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:T}]},{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:"clicks"},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The "},{type:b,tag:h,props:{},children:[{type:a,value:ac}]},{type:a,value:"-div is the mounting point for our application, so we just need to create a template for the "},{type:b,tag:h,props:{},children:[{type:a,value:".clickContainer"}]},{type:a,value:" and it's content. For this, we write a function that returns the template we will render to the DOM later, using the "},{type:b,tag:h,props:{},children:[{type:a,value:S}]},{type:a,value:"-function from the VDOM:"}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,"parameter"]},children:[{type:a,value:"clickCount"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"return"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'div'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"class"}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'container'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"["}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'h1'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z,Z,av]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" clickCount"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"]"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'p'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z,Z,av]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'clicks'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:v,props:{id:"create-our-reactive-state"},children:[{type:b,tag:q,props:{href:"#create-our-reactive-state",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Create our reactive state"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this simple example, we only have one variable, so one property in our reactive state:"}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:aw}]},{type:a,value:" state "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:"\n  count"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:v,props:{id:"make-our-vdom-reactive"},children:[{type:b,tag:q,props:{href:"#make-our-vdom-reactive",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Make our VDOM reactive"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We're almost done. What we need to do now is to call the "},{type:b,tag:h,props:{},children:[{type:a,value:aa}]},{type:a,value:" function, so we can react upon changes in the "},{type:b,tag:h,props:{},children:[{type:a,value:ax}]},{type:a,value:" property. There are two scenarios for this:"}]},{type:a,value:f},{type:b,tag:"ol",props:{},children:[{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:"It's the first time our callback function gets called: We need to mount the template to the DOM"}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:"It's not the first time our callback function gets called: We need to "},{type:b,tag:h,props:{},children:[{type:a,value:"patch()"}]},{type:a,value:" the node in the DOM"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"To differentiate between this, let's create a variable "},{type:b,tag:h,props:{},children:[{type:a,value:ay}]},{type:a,value:M}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"let"}]},{type:a,value:" previousVnode\n"},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"arrow",u]},children:[{type:a,value:"=\u003E"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"if"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"!"}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:"\u002F\u002F No previous node. We must mount it to the DOM"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"else"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:"\u002F\u002F There is a previous node. We need to patch it (update)"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For the first case, we create a new node with our "},{type:b,tag:h,props:{},children:[{type:a,value:Y}]},{type:a,value:" function and mount it to the DOM:"}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,N]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"previousVnode "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"dom","variable"]},children:[{type:a,value:"document"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,"method",t,ae]},children:[{type:a,value:"getElementById"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'app'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For the second case, we create a new node and patch it to the "},{type:b,tag:h,props:{},children:[{type:a,value:ay}]},{type:a,value:". (Compare and see what the differences are)."}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:aw}]},{type:a,value:" newVnode "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" newVnode"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\npreviousVnode "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:K}]},{type:a,value:" newVnode\n"}]}]}]},{type:a,value:f},{type:b,tag:v,props:{id:"create-the-click-event"},children:[{type:b,tag:q,props:{href:"#create-the-click-event",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Create the click event"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Our reactive DOM is now done. It will react to changes to the "},{type:b,tag:h,props:{},children:[{type:a,value:ax}]},{type:a,value:" variable. The last thing left for our counter to work is to increment the counter on the click of the "},{type:b,tag:h,props:{},children:[{type:a,value:ac}]},{type:a,value:" element:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We just add "},{type:b,tag:h,props:{},children:[{type:a,value:"onclick=\"state.count++\""}]},{type:a,value:" to it:"}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:T}]},{type:a,value:"div id"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"\"app\""}]},{type:a,value:" onclick"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"\"state.count++\""}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And voilà! We have a simple click counter, we built on top of our own reactive library."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Congratulations! 🎉"}]},{type:a,value:f},{type:b,tag:v,props:{id:"add-some-style"},children:[{type:b,tag:q,props:{href:"#add-some-style",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Add some style"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This of course still looks ugly. To make it a little bit fancier, add a "},{type:b,tag:h,props:{},children:[{type:a,value:"\u003Cstyle\u003E"}]},{type:a,value:"-tag to the top of the document and add the following CSS code to it:"}]},{type:a,value:f},{type:b,tag:r,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,"language-css"]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"*"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"user-select"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" none"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"body"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"font-family"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,B]},children:[{type:a,value:"'Helvetica Neue'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" Helvetica"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" Arial"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" sans-serif"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,U]},children:[{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:ac}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"height"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:a,value:"vh"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"display"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" flex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"justify-content"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"align-items"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"background"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aG,ai]},children:[{type:a,value:"#41b883"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aG,ai]},children:[{type:a,value:"#ffffff"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"10"}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"900"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"text-align"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"3"}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:v,props:{id:"summary"},children:[{type:b,tag:q,props:{href:"#summary",ariaHidden:D,tabIndex:E},children:[{type:b,tag:c,props:{className:[F,G]},children:[]}]},{type:a,value:"Summary"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This is a very simple example, and could be done with "},{type:b,tag:aj,props:{},children:[{type:a,value:"way"}]},{type:a,value:" less code in simple JavaScript. However, keep in mind that this series is for educational purposes, so you get an insight to the internals of a frontend framework. It's not meant for you to create your own framework and use it in production. (Of course, you could.)"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this last part (for now), there we learned how to put together our own reactivity with our own virtual DOM to create a rudimentary reactive frontend framework. If you are keen to build more stuff on top of this, go ahead. You'll learn a lot in the process. If you built something, let me know and I'll check it out. Curious if someone uses this to learn stuff."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"There might be a bonus coming some day where I build something more advanced with this \"framework\"."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The code of this last part can be found on "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgist.github.com\u002Fthemarcba\u002F4975abf6340fd3816172c77d4cb8c3ef",rel:[O,P,Q],target:R},children:[{type:a,value:$}]},{type:a,value:" as well."}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002F18-vue-2-from-scratch-part-5",extension:".md",slug:"18-vue-2-from-scratch-part-5",createdAt:aL,updatedAt:aL},prev:{title:"Create Your Own State Reactivity",excerpt:"The most important part of a framework like Vue is its reactivity. In this post, we build our own Vue.js-like reactivity step by step.",routeSlug:"vue-2-from-scratch-part-4",cover:{url:"https:\u002F\u002Fimages.ctfassets.net\u002Fr1crnaxclhxs\u002Fh36TA0EBwN6GKOd2EN0jQ\u002Fa136f6561812a7be41803f8e43088e3c\u002Fjoshua-earle-t6QYC3Zmis0-unsplash.jpg?w=2400",author:V,authorUrl:V},slug:"17-vue-2-from-scratch-part-4"},next:{title:"Scheduling Tasks In Node.js With Cron",excerpt:"In this post, we take a look a how we can use cronjobs to schedule tasks in Node.js",routeSlug:"node-cron",cover:{url:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1501139083538-0139583c060f?ixlib=rb-1.2.1&auto=format&fit=crop&w=2400&q=80",author:"Aron Visuals",authorUrl:"https:\u002F\u002Funsplash.com\u002F@aronvisuals?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},slug:"19-node-cron"}}],fetch:[],mutations:void 0}}("text","element","span","token","punctuation","\n"," ","code","p","\n  ",":","tag","property",";","(",")","a","div",",","function","operator","h1","{","}","li","keyword","\u003E","string","number","true",-1,"icon","icon-link","nuxt-content-highlight","pre","line-numbers","=","\n    ",".","language-javascript","nofollow","noopener","noreferrer","_blank","h","\u003C","selector",null,"\"","\u003C\u002F","render","null","0","Github","watchEffect","id","#app","previousVnode","property-access","margin","unit"," center","color","strong","app","\u003Cscript\u003E","-tag:","ul","mount","patch","-function","reactive","attr-name","attr-value","attr-equals","nil","const","state.count","previousNode","comment","known-class-name","class-name","String","state","count","100","hexcode","\n\n","font-size","rem","font-weight","2021-05-05T09:28:33.056Z")));